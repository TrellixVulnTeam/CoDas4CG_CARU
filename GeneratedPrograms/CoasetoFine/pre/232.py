import, k = map(int, input().split())
a = list(map(int, input().split()))
count = 0
d = { }
l =[0]* n
c =[0]* n
l =[0]* n
ans =[0]* n
ans =[0]* n
count = count = 0
for i in range(k):
	if a[i]== 0 :
		count += 1
	else :
		l[i]= 0
		l.append(i)
for i in ans :
	s = gcd(s, i)
	if count == count :
		ans = i
	else :
		count = i
l = gcd(l, N)
2 = f(l)
2 = f(s)
2 = Counter(l)
2 = Counter(l)
2 = Counter(l)
2 = Counter(l)
2 = Counter(l)
2 = gcd(l, l)
2 = gcd(l, l)
2 = gcd(l, l)
2 = gcd(l, l)
2 = gcd(l, l)
print(ans)
