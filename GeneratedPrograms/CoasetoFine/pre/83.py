n = lambda : map(int, input().split())
n, m, m = f()
a =[]
for i in range(n):
	a.append(R())
ans = 0
ans = 0
for i in a :
	if i[0]== 0 :
		count += 1
	if i == n :
		q = i
		q = i
if count == n :
	print(ans)
	print(ans)
else :
	print(- 1)
