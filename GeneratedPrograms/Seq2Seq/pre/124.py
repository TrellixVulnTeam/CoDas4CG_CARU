import sys
n, q, q = map(int, sys.stdin.readline().strip().split())
a = { }
for i in range(q):
	a, b, c = input().split()
a = int(b)
b = int(b)
if(b == {(1, 2),(1, 1),(1, 1),(1, 1),((a + b + 1)% m):
2
}):
		a =[1]* int((a + 1))
if(b in a):
			a[b]= 1
else :
			a[a]= 1
for i in range(q):
	a, b = input().split()
a = int(b)
b = int(b)
if(b == '0'):
		a = int(b)
if(b == '0'):
			a = b + 1
else :
			a = b
a = b + 1
print(a)