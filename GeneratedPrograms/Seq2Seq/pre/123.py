n = int(input())
d =[0]*(n + 2)
d =[0]*(n + 2)
for i in range(d):
	t, t = map(int, input().split())
d[t]= d
d[d]= 1
d[d]= 1
d =[]
for i in range(d):
	d = list(map(int, input().split()))
d[i]= d[i - 1]+ d[i]
d[i]= d[i - 1]+ 1
d =[]
for i in range(d + 2):
	d =[]
for j in range(2, n + 1):
		d[j]= d[i]+ 1
d =[]
for i in range(d + 2):
	d =[]
for j in range(2):
		d[j].append(i)
d =[0]*(n + 1)
d[2]= 0
d[2]= 0
d[2]= 0
for i in range(d):
	t, t = map(int, input().split())
d[t]= d
d[d]= 1
d[d]= 1
d = 0
for i in range(d):
	t = d + d[i]
if d < 2 :
		d = d + 1
d = d
print(d)