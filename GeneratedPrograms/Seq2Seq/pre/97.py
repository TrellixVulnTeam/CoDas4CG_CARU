n, m = map(int, input().split())
a =[]
for i in range(n):
	a.append(input())
a =[]
for i in range(n):
	if a[i][0]== a[i][1]:
		a.append([a[i][1], a[i][1]])
else :
			a.append([a[i][1], a[i][1]])
if a[i][0]== a[i][1]:
			a[i][0]= a[i][1]
else :
				a[i][1]= a[i][1]
a.append([a[i][1], a[i][1]])
if a[i][0]== a[i][1]:
				break
else :
				a[i][1]= a[i][1]
a[i][1]= a[i][1]
a.append([a[i][1]for i in range(n)])
a.sort()
if a[- 1][0]== a[- 1][1]:
			a[- 1][1]= a[- 1][1]
else :
				a[- 1][1]= a[- 1][1]
a[- 1][1]= a[- 1][1]
a[- 1][1]= a[- 1][1]
a[- 1][1]= a[- 1][1]
if a[- 1][1]== - 1 :
				break
else :
				break
else :
				break
else :
				break
else :
				break
else :
				break
else :
				break
else :
			break
if a[- 1][1]== - 1 :
			break
if a[- 1][1]== - 1 :
				break
else :
				break
else :
				break
else :
				if a[- 1][1]== - 1 :
					print(i)
break
else :
				print(i)
break